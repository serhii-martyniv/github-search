{"ast":null,"code":"import { getUser } from \"../api/api\";\nimport { toggleIsFetchingActionCreator } from \"./UsersReducer\";\nconst ADD_POST = 'ADD-POST';\nconst SET_USER_PROFILE = 'SET_USER_PROFILE';\nlet initialStorage = {\n  profile: null\n};\n\nconst profileReducer = (storage = initialStorage, action) => {\n  switch (action.type) {\n    case ADD_POST:\n      let newPost = {\n        \"id\": storage.posts.length + 1,\n        \"text\": action.text,\n        \"likes\": 0\n      };\n      return { ...storage,\n        posts: [...storage.posts, newPost]\n      };\n\n    case SET_USER_PROFILE:\n      return { ...storage,\n        profile: action.profile\n      };\n\n    default:\n      return storage;\n  }\n};\n\nexport const addPostActionCreator = text => {\n  return {\n    type: ADD_POST,\n    text: text\n  };\n};\nexport const setUserProfileActionCreator = profile => ({\n  type: SET_USER_PROFILE,\n  profile\n});\nexport const setProfileThunkCreator = userId => {\n  return dispatch => {\n    dispatch(toggleIsFetchingActionCreator(true));\n    getUser(userId).then(data => {\n      dispatch(toggleIsFetchingActionCreator(false));\n      dispatch(setUserProfileActionCreator(data));\n    });\n  };\n};\nexport default profileReducer;","map":{"version":3,"sources":["/var/www/js/github-search/src/redux/ProfileReducer.js"],"names":["getUser","toggleIsFetchingActionCreator","ADD_POST","SET_USER_PROFILE","initialStorage","profile","profileReducer","storage","action","type","newPost","posts","length","text","addPostActionCreator","setUserProfileActionCreator","setProfileThunkCreator","userId","dispatch","then","data"],"mappings":"AAAA,SAAQA,OAAR,QAAsB,YAAtB;AACA,SAAQC,6BAAR,QAA4C,gBAA5C;AAEA,MAAMC,QAAQ,GAAG,UAAjB;AACA,MAAMC,gBAAgB,GAAG,kBAAzB;AAEA,IAAIC,cAAc,GAAG;AACjBC,EAAAA,OAAO,EAAE;AADQ,CAArB;;AAIA,MAAMC,cAAc,GAAG,CAACC,OAAO,GAAGH,cAAX,EAA2BI,MAA3B,KAAsC;AACzD,UAAQA,MAAM,CAACC,IAAf;AACI,SAAKP,QAAL;AACI,UAAIQ,OAAO,GAAG;AACV,cAAMH,OAAO,CAACI,KAAR,CAAcC,MAAd,GAAuB,CADnB;AAEV,gBAAQJ,MAAM,CAACK,IAFL;AAGV,iBAAS;AAHC,OAAd;AAKA,aAAO,EAAE,GAAGN,OAAL;AAAcI,QAAAA,KAAK,EAAE,CAAC,GAAGJ,OAAO,CAACI,KAAZ,EAAmBD,OAAnB;AAArB,OAAP;;AACJ,SAAKP,gBAAL;AACI,aAAO,EAAC,GAAGI,OAAJ;AAAaF,QAAAA,OAAO,EAAEG,MAAM,CAACH;AAA7B,OAAP;;AACJ;AACI,aAAOE,OAAP;AAXR;AAcH,CAfD;;AAiBA,OAAO,MAAMO,oBAAoB,GAAID,IAAD,IAAU;AAC1C,SAAO;AACHJ,IAAAA,IAAI,EAAEP,QADH;AAEHW,IAAAA,IAAI,EAAEA;AAFH,GAAP;AAIH,CALM;AAOP,OAAO,MAAME,2BAA2B,GAAIV,OAAD,KAAc;AAACI,EAAAA,IAAI,EAAEN,gBAAP;AAAyBE,EAAAA;AAAzB,CAAd,CAApC;AAEP,OAAO,MAAMW,sBAAsB,GAAIC,MAAD,IAAY;AAC9C,SAAQC,QAAD,IAAc;AACjBA,IAAAA,QAAQ,CAACjB,6BAA6B,CAAC,IAAD,CAA9B,CAAR;AACAD,IAAAA,OAAO,CAACiB,MAAD,CAAP,CAAgBE,IAAhB,CAAsBC,IAAD,IAAU;AAC3BF,MAAAA,QAAQ,CAACjB,6BAA6B,CAAC,KAAD,CAA9B,CAAR;AACAiB,MAAAA,QAAQ,CAACH,2BAA2B,CAACK,IAAD,CAA5B,CAAR;AACH,KAHD;AAIH,GAND;AAOH,CARM;AAUP,eAAed,cAAf","sourcesContent":["import {getUser} from \"../api/api\";\nimport {toggleIsFetchingActionCreator} from \"./UsersReducer\";\n\nconst ADD_POST = 'ADD-POST';\nconst SET_USER_PROFILE = 'SET_USER_PROFILE';\n\nlet initialStorage = {\n    profile: null\n};\n\nconst profileReducer = (storage = initialStorage, action) => {\n    switch (action.type) {\n        case ADD_POST :\n            let newPost = {\n                \"id\": storage.posts.length + 1,\n                \"text\": action.text,\n                \"likes\": 0,\n            };\n            return { ...storage, posts: [...storage.posts, newPost] };\n        case SET_USER_PROFILE:\n            return {...storage, profile: action.profile}\n        default:\n            return storage;\n    }\n\n};\n\nexport const addPostActionCreator = (text) => {\n    return {\n        type: ADD_POST,\n        text: text\n    }\n};\n\nexport const setUserProfileActionCreator = (profile) => ({type: SET_USER_PROFILE, profile})\n\nexport const setProfileThunkCreator = (userId) => {\n    return (dispatch) => {\n        dispatch(toggleIsFetchingActionCreator(true))\n        getUser(userId).then((data) => {\n            dispatch(toggleIsFetchingActionCreator(false))\n            dispatch(setUserProfileActionCreator(data))\n        })\n    }\n}\n\nexport default profileReducer;"]},"metadata":{},"sourceType":"module"}