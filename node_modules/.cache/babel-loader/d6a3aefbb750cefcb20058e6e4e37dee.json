{"ast":null,"code":"import _toConsumableArray from\"/var/www/js/github-search/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _objectSpread from\"/var/www/js/github-search/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import{getUser}from\"../api/api\";import{toggleIsFetchingActionCreator}from\"./UsersReducer\";var ADD_POST='ADD-POST';var SET_USER_PROFILE='SET_USER_PROFILE';var initialStorage={profile:null};var profileReducer=function profileReducer(){var storage=arguments.length>0&&arguments[0]!==undefined?arguments[0]:initialStorage;var action=arguments.length>1?arguments[1]:undefined;switch(action.type){case ADD_POST:var newPost={\"id\":storage.posts.length+1,\"text\":action.text,\"likes\":0};return _objectSpread({},storage,{posts:[].concat(_toConsumableArray(storage.posts),[newPost])});case SET_USER_PROFILE:return _objectSpread({},storage,{profile:action.profile});default:return storage;}};export var addPostActionCreator=function addPostActionCreator(text){return{type:ADD_POST,text:text};};export var setUserProfileActionCreator=function setUserProfileActionCreator(profile){return{type:SET_USER_PROFILE,profile:profile};};export var setProfileThunkCreator=function setProfileThunkCreator(userId){return function(dispatch){dispatch(toggleIsFetchingActionCreator(true));getUser(userId).then(function(data){dispatch(toggleIsFetchingActionCreator(false));dispatch(setUserProfileActionCreator(data));});};};export default profileReducer;","map":{"version":3,"sources":["/var/www/js/github-search/src/redux/ProfileReducer.js"],"names":["getUser","toggleIsFetchingActionCreator","ADD_POST","SET_USER_PROFILE","initialStorage","profile","profileReducer","storage","action","type","newPost","posts","length","text","addPostActionCreator","setUserProfileActionCreator","setProfileThunkCreator","userId","dispatch","then","data"],"mappings":"uSAAA,OAAQA,OAAR,KAAsB,YAAtB,CACA,OAAQC,6BAAR,KAA4C,gBAA5C,CAEA,GAAMC,CAAAA,QAAQ,CAAG,UAAjB,CACA,GAAMC,CAAAA,gBAAgB,CAAG,kBAAzB,CAEA,GAAIC,CAAAA,cAAc,CAAG,CACjBC,OAAO,CAAE,IADQ,CAArB,CAIA,GAAMC,CAAAA,cAAc,CAAG,QAAjBA,CAAAA,cAAiB,EAAsC,IAArCC,CAAAA,OAAqC,2DAA3BH,cAA2B,IAAXI,CAAAA,MAAW,2CACzD,OAAQA,MAAM,CAACC,IAAf,EACI,IAAKP,CAAAA,QAAL,CACI,GAAIQ,CAAAA,OAAO,CAAG,CACV,KAAMH,OAAO,CAACI,KAAR,CAAcC,MAAd,CAAuB,CADnB,CAEV,OAAQJ,MAAM,CAACK,IAFL,CAGV,QAAS,CAHC,CAAd,CAKA,wBAAYN,OAAZ,EAAqBI,KAAK,8BAAMJ,OAAO,CAACI,KAAd,GAAqBD,OAArB,EAA1B,GACJ,IAAKP,CAAAA,gBAAL,CACI,wBAAWI,OAAX,EAAoBF,OAAO,CAAEG,MAAM,CAACH,OAApC,GACJ,QACI,MAAOE,CAAAA,OAAP,CAXR,CAcH,CAfD,CAiBA,MAAO,IAAMO,CAAAA,oBAAoB,CAAG,QAAvBA,CAAAA,oBAAuB,CAACD,IAAD,CAAU,CAC1C,MAAO,CACHJ,IAAI,CAAEP,QADH,CAEHW,IAAI,CAAEA,IAFH,CAAP,CAIH,CALM,CAOP,MAAO,IAAME,CAAAA,2BAA2B,CAAG,QAA9BA,CAAAA,2BAA8B,CAACV,OAAD,QAAc,CAACI,IAAI,CAAEN,gBAAP,CAAyBE,OAAO,CAAPA,OAAzB,CAAd,EAApC,CAEP,MAAO,IAAMW,CAAAA,sBAAsB,CAAG,QAAzBA,CAAAA,sBAAyB,CAACC,MAAD,CAAY,CAC9C,MAAO,UAACC,QAAD,CAAc,CACjBA,QAAQ,CAACjB,6BAA6B,CAAC,IAAD,CAA9B,CAAR,CACAD,OAAO,CAACiB,MAAD,CAAP,CAAgBE,IAAhB,CAAqB,SAACC,IAAD,CAAU,CAC3BF,QAAQ,CAACjB,6BAA6B,CAAC,KAAD,CAA9B,CAAR,CACAiB,QAAQ,CAACH,2BAA2B,CAACK,IAAD,CAA5B,CAAR,CACH,CAHD,EAIH,CAND,CAOH,CARM,CAUP,cAAed,CAAAA,cAAf","sourcesContent":["import {getUser} from \"../api/api\";\nimport {toggleIsFetchingActionCreator} from \"./UsersReducer\";\n\nconst ADD_POST = 'ADD-POST';\nconst SET_USER_PROFILE = 'SET_USER_PROFILE';\n\nlet initialStorage = {\n    profile: null\n};\n\nconst profileReducer = (storage = initialStorage, action) => {\n    switch (action.type) {\n        case ADD_POST :\n            let newPost = {\n                \"id\": storage.posts.length + 1,\n                \"text\": action.text,\n                \"likes\": 0,\n            };\n            return { ...storage, posts: [...storage.posts, newPost] };\n        case SET_USER_PROFILE:\n            return {...storage, profile: action.profile}\n        default:\n            return storage;\n    }\n\n};\n\nexport const addPostActionCreator = (text) => {\n    return {\n        type: ADD_POST,\n        text: text\n    }\n};\n\nexport const setUserProfileActionCreator = (profile) => ({type: SET_USER_PROFILE, profile})\n\nexport const setProfileThunkCreator = (userId) => {\n    return (dispatch) => {\n        dispatch(toggleIsFetchingActionCreator(true))\n        getUser(userId).then((data) => {\n            dispatch(toggleIsFetchingActionCreator(false))\n            dispatch(setUserProfileActionCreator(data))\n        })\n    }\n}\n\nexport default profileReducer;"]},"metadata":{},"sourceType":"module"}